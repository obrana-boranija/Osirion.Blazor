@page "/navigation-server-demo"
@inject Osirion.Blazor.Navigation.Services.ScrollToTopManager ScrollManager
@rendermode InteractiveServer

<PageTitle>Navigation Demo</PageTitle>

<h1>Navigation Components Demo</h1>

<p>This page demonstrates navigation enhancements provided by Osirion.Blazor.</p>

<div class="alert alert-info">
    <h4 class="alert-heading">Features in Action:</h4>
    <ul>
        <li><strong>Enhanced Navigation</strong>: Smooth scroll behavior when navigating between pages</li>
        <li><strong>Scroll To Top</strong>: Button appears when scrolling down (bottom-right corner)</li>
        <li><strong>ScrollToTop Status</strong>: @(ScrollManager.IsEnabled ? "Enabled" : "Disabled")</li>
    </ul>
</div>

<div class="mb-4">
    <button class="btn btn-primary" @onclick="EnableScrollToTop">Enable ScrollToTop</button>
    <button class="btn btn-secondary ms-2" @onclick="DisableScrollToTop">Disable ScrollToTop</button>
</div>

<h2>Long Content for Scroll Demo</h2>
<p>Scroll down to see the "Scroll to Top" button appear.</p>

<ContentList />

@for (int i = 0; i < 20; i++)
{
    <div class="card mb-3">
        <div class="card-body">
            <h5 class="card-title">Content Block @(i + 1)</h5>
            <p class="card-text">This is example content to demonstrate the scroll functionality. The "Scroll to Top" button will appear after scrolling down a certain distance.</p>
        </div>
    </div>

    @if(i == 10)
    {
        <div class="alert alert-info">
            <h5 class="card-title">Test SamePage Navigation</h5>
            <a href="navigation-demo" class="btn btn-outline-danger" role="button">Test</a>
        </div>
    }
}

@code {
    private void EnableScrollToTop()
    {
        ScrollManager.IsEnabled = true;
    }

    private void DisableScrollToTop()
    {
        ScrollManager.IsEnabled = false;
    }
}