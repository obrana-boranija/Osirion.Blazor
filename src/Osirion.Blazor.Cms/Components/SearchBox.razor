@inherits OsirionComponentBase

<div class="@GetWrapperClass()">
    @if (Title != null)
    {
        <h2 class="osirion-search-title">@Title</h2>
    }
    <form class="@GetSearchBoxClass()" method="get" action="@ActionUrl">
        <input name="@QueryParameterName"
               value="@SearchQuery"
               type="text"
               placeholder="@Placeholder"
               class="osirion-search-input" />
        <button type="submit" class="osirion-search-button">@SearchButtonText</button>
    </form>
</div>

@code {
    [Parameter]
    public string ActionUrl { get; set; } = "/search";

    [Parameter]
    public string QueryParameterName { get; set; } = "q";

    [Parameter]
    public string SearchQuery { get; set; } = string.Empty;

    [Parameter]
    public string Placeholder { get; set; } = "Search content...";

    [Parameter]
    public string SearchButtonText { get; set; } = "Search";

    [Parameter]
    public string? Title { get; set; }

    private string GetWrapperClass()
    {
        return $"osirion-search-container {CssClass}".Trim();
    }

    private string GetSearchBoxClass()
    {
        return "osirion-search-box";
    }
}