"use strict";(function(){function e(n){return n._osirionId||(n._osirionId="osirion-"+Math.random().toString(36).substr(2,9)),n._osirionId}function f(i){for(var u=i.target,r=null,s,l;u&&u!==document;){if(u.matches&&u.matches(n.lineSelector)){r=u;break}u=u.parentElement}if(r&&(s=r.closest("pre"),s)){var c=i.ctrlKey||i.metaKey||i.shiftKey,a=Array.prototype.slice.call(r.parentElement.children),h=a.indexOf(r)+1,f=e(s);t[f]||(t[f]=[]);c||(l=s.querySelectorAll("."+n.highlightClass),Array.prototype.forEach.call(l,function(t){t.classList.remove(n.highlightClass);t.setAttribute("aria-pressed","false")}),t[f]=[]);r.classList.contains(n.highlightClass)?(r.classList.remove(n.highlightClass),r.setAttribute("aria-pressed","false"),t[f]=t[f].filter(function(n){return n!==h})):(r.classList.add(n.highlightClass),r.setAttribute("aria-pressed","true"),t[f].indexOf(h)===-1&&t[f].push(h));o(h,r.classList.contains(n.highlightClass),c)}}function o(n,t,i){var u=t?"Line "+n+" highlighted"+(i?". Hold Ctrl/Cmd for multiple selection.":""):"Line "+n+" unhighlighted",r=document.createElement("div");r.className="sr-only";r.setAttribute("role","status");r.setAttribute("aria-live","polite");r.textContent=u;document.body.appendChild(r);setTimeout(function(){r.parentNode.removeChild(r)},3e3)}function i(){var t=document.querySelectorAll(n.containerSelector+":not(."+n.initialized+")");Array.prototype.forEach.call(t,function(t){t.classList.add(n.initialized);var i=t.querySelectorAll(n.lineSelector);Array.prototype.forEach.call(i,function(n,t){n.setAttribute("role","button");n.setAttribute("aria-label","Toggle highlight for line "+(t+1));n.setAttribute("aria-pressed","false");n.setAttribute("tabindex","0");n.style.cursor="pointer"})})}function r(){if(!u&&(u=!0,document.addEventListener("click",function(t){for(var i=t.target;i&&i!==document;){if(i.matches&&i.matches(n.lineSelector)){f(t);break}i=i.parentElement}}),document.addEventListener("keydown",function(t){if(t.key==="Enter"||t.key===" ")for(var i=t.target;i&&i!==document;){if(i.matches&&i.matches(n.lineSelector)){t.preventDefault();f(t);break}i=i.parentElement}}),i(),window.MutationObserver)){var t=new MutationObserver(function(){i()});t.observe(document.body,{childList:!0,subtree:!0})}}var n={containerSelector:".line-numbers",lineSelector:".line-numbers-rows > span",highlightClass:"osirion-line-highlighted",initialized:"osirion-lines-initialized"},u=!1,t={};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r();window.initializeLineHighlighting=i;window.OsirionLineHighlighting={init:r,processLineNumbers:i}})();